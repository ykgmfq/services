# ==============================================
# General Settings
# ==============================================
per_listener_settings true
log_dest stdout
log_timestamp false

# ==============================================
# Listener 1: MQTT (Anonymous) on 1883
# ==============================================
listener 1883 0.0.0.0
allow_zero_length_clientid false
protocol mqtt
allow_anonymous true

# ==============================================
# Listener 2: WebSockets (Authenticated) on 1884
# ==============================================
listener 1884 0.0.0.0
allow_zero_length_clientid false
protocol websockets
allow_anonymous false
password_file /run/secrets/mosquitto_passwords
